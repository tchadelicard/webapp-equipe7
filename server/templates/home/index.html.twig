{% extends 'base.html.twig' %}

{% block title %}Welcome to My App{% endblock %}

{% block body %}
    <div class="container mt-5">
        {# Display verification message if the user needs to verify their email #}
        {% for flash_error in app.flashes('verify_email_error') %}
            <div class="alert alert-danger text-center alert-dismissible fade show" role="alert">
                {{ flash_error }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        {% endfor %}

        {% if app.user and not app.user.isVerified %}
            <div class="alert alert-warning text-center">
                Your email is not verified! Please check your inbox for a confirmation email.
                <br><a href="{{ path('app_verify_email') }}" class="btn btn-primary btn-sm mt-2">Resend Verification Email</a>
            </div>
        {% endif %}

        <div class="text-center">
            <h1>Welcome, {{ app.user ? app.user.userIdentifier : 'Guest' }}! ðŸ‘‹</h1>
            <p class="lead">This is your homepage. Explore the app and get started.</p>
        </div>
    </div>
{% endblock %}